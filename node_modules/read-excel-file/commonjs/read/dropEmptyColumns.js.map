{"version":3,"sources":["../../source/read/dropEmptyColumns.js"],"names":["dropEmptyColumns","data","accessor","_","onlyTrimAtTheEnd","i","length","empty","row","j","splice"],"mappings":";;;;;;;;;;;;;AAAe,SAASA,gBAAT,CAA0BC,IAA1B,EAGP;AAAA,iFAAJ,EAAI;AAAA,2BAFNC,QAEM;AAAA,MAFNA,QAEM,8BAFK,UAAAC,CAAC;AAAA,WAAIA,CAAJ;AAAA,GAEN;AAAA,MADNC,gBACM,QADNA,gBACM;;AACN,MAAIC,CAAC,GAAGJ,IAAI,CAAC,CAAD,CAAJ,CAAQK,MAAR,GAAiB,CAAzB;;AACA,SAAOD,CAAC,IAAI,CAAZ,EAAe;AACb,QAAIE,KAAK,GAAG,IAAZ;;AACA,yDAAkBN,IAAlB,wCAAwB;AAAA,UAAbO,GAAa;;AACtB,UAAIN,QAAQ,CAACM,GAAG,CAACH,CAAD,CAAJ,CAAR,KAAqB,IAAzB,EAA+B;AAC7BE,QAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF;;AACD,QAAIA,KAAJ,EAAW;AACT,UAAIE,CAAC,GAAG,CAAR;;AACA,aAAOA,CAAC,GAAGR,IAAI,CAACK,MAAhB,EAAwB;AACtBL,QAAAA,IAAI,CAACQ,CAAD,CAAJ,CAAQC,MAAR,CAAeL,CAAf,EAAkB,CAAlB;AACAI,QAAAA,CAAC;AACF;AACF,KAND,MAMO,IAAIL,gBAAJ,EAAsB;AAC3B;AACD;;AACDC,IAAAA,CAAC;AACF;;AACD,SAAOJ,IAAP;AACD","sourcesContent":["export default function dropEmptyColumns(data, {\r\n  accessor = _ => _,\r\n  onlyTrimAtTheEnd\r\n} = {}) {\r\n  let i = data[0].length - 1\r\n  while (i >= 0) {\r\n    let empty = true\r\n    for (const row of data) {\r\n      if (accessor(row[i]) !== null) {\r\n        empty = false\r\n        break\r\n      }\r\n    }\r\n    if (empty) {\r\n      let j = 0;\r\n      while (j < data.length) {\r\n        data[j].splice(i, 1)\r\n        j++\r\n      }\r\n    } else if (onlyTrimAtTheEnd) {\r\n      break\r\n    }\r\n    i--\r\n  }\r\n  return data\r\n}"],"file":"dropEmptyColumns.js"}